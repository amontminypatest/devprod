comment: "Returns the engine status for engines on the server.\n\nThis returns a TEXT
  widget, so make sure to pick that one as the widget type.\n\nRequires an enabled
  instance of the Demisto Rest API integration. "
commonfields:
  id: e6bb15bf-d2a8-49b3-8241-c63de1a2be95
  version: -1
contentitemexportablefields:
  contentitemfields:
    definitionid: ""
    fromServerVersion: ""
    itemVersion: ""
    packID: ""
    packName: ""
    prevname: ""
    propagationLabels:
    - all
    toServerVersion: ""
dependson:
  must:
  - Demisto REST API|||demisto-api-get
dockerimage: demisto/python3:3.8.6.13358
enabled: true
engineinfo: {}
mainengineinfo: {}
name: EngineStatusWidgetExamples
pswd: ""
runas: DBotWeakRole
runonce: false
script: |-
  engines = demisto.executeCommand("demisto-api-get", {"uri":"/engines"})[0].get('Contents',{}).get('response',{}).get('engines',[])

  if engines:
      data = []
      for engine in engines:
          temp = {}
          temp['Name'] = engine.get('name')
          temp['Connected'] = str(engine.get('connected'))
          temp['LastSeen'] = str(engine.get('lastSeen'))
          data.append(temp)
      demisto.results(tableToMarkdown("Engine Status", data, headers=['Name','Connected','LastSeen']))
  elif not engines:
      demisto.results("No engines configured on this server")
  else:
      demisto.results(f"Error: {str(engines)}")
scripttarget: 0
subtype: python3
tags:
- widget
- training
type: python
